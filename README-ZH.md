# Thryve - æ™ºèƒ½æ–‡ä»¶å¤„ç†å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨

[English](README.md) | ç®€ä½“ä¸­æ–‡

[![Version](https://img.shields.io/badge/version-1.0-blue.svg)](https://github.com/your-username/Thryve2)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)]()
[![Contributors](https://img.shields.io/badge/contributors-5-orange.svg)]()
[![Made with React](https://img.shields.io/badge/React-18-%2361DAFB.svg?logo=react)](https://reactjs.org/)

Thryve æ˜¯ä¸€ä¸ªä¸“æ³¨äºæ™ºèƒ½æ–‡ä»¶å¤„ç†çš„å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨ã€‚é€šè¿‡ç›´è§‚çš„èŠ‚ç‚¹å¼ç¼–ç¨‹ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åˆ›å»ºå¤æ‚çš„æ–‡ä»¶å¤„ç†å·¥ä½œæµï¼Œå¦‚æ‰¹é‡æ–‡ä»¶æ“ä½œã€æ ¼å¼è½¬æ¢ã€å†…å®¹åˆ†æå’Œè‡ªåŠ¨åŒ–æ–‡æ¡£å¤„ç†ã€‚é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›å¼ºå¤§çš„å·¥ä½œæµæ‰§è¡Œå¼•æ“å’Œå®æ—¶å¤„ç†åé¦ˆã€‚

## åŠŸèƒ½ç‰¹ç‚¹

### ğŸ“‚ **æ™ºèƒ½æ–‡ä»¶å¤„ç†ç³»ç»Ÿ**
- **æ‰¹é‡å¤„ç†æ“ä½œ**ï¼šåŒæ—¶å¤„ç†æ•°ç™¾ä¸ªæ–‡ä»¶ï¼Œå…·å¤‡è¿›åº¦è·Ÿè¸ªå’Œé”™è¯¯å¤„ç†èƒ½åŠ›
- **é€šç”¨æ ¼å¼æ”¯æŒ**ï¼šåŸç”Ÿæ”¯æŒ PDFã€DOC/DOCXã€Markdownã€CSVã€JSONã€TXT å’Œå›¾åƒæ ¼å¼
- **æ™ºèƒ½å†…å®¹æå–**ï¼šè‡ªåŠ¨æ–‡æœ¬æå–ã€å…ƒæ•°æ®è§£æå’Œå†…å®¹ç»“æ„åˆ†æ
- **æ–‡æ¡£æ™ºèƒ½è¯†åˆ«**ï¼šOCR å…‰å­¦å­—ç¬¦è¯†åˆ«ã€è¡¨æ ¼è¯†åˆ«å’Œè‡ªåŠ¨æ–‡æ¡£åˆ†ç±»
- **æ ¼å¼è½¬æ¢**ï¼šä¸åŒæ–‡ä»¶æ ¼å¼é—´çš„æ— ç¼è½¬æ¢ï¼Œä¿æŒç»“æ„å®Œæ•´æ€§
- **å†…å®¹åˆ†æ**ï¼šæ–‡æœ¬åˆ†æã€å…³é”®è¯æå–ã€æƒ…æ„Ÿåˆ†æå’Œå†…å®¹æ‘˜è¦ç”Ÿæˆ

### ğŸ¨ **å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨**
- **æ‹–æ‹½å¼ç•Œé¢**ï¼šç›´è§‚çš„èŠ‚ç‚¹å¼ç¼–è¾‘å™¨ï¼Œæ”¯æŒç½‘æ ¼å¯¹é½å’Œè‡ªåŠ¨æ’åˆ—
- **æ™ºèƒ½è¿æ¥ç³»ç»Ÿ**ï¼šæ™ºèƒ½ç«¯å£æ£€æµ‹å’ŒèŠ‚ç‚¹é—´ç±»å‹å®‰å…¨çš„è¿æ¥
- **ç”»å¸ƒå¯¼èˆª**ï¼šç¼©æ”¾ã€å¹³ç§»å’Œç¼©ç•¥å›¾ï¼Œæ”¯æŒå¤§å‹å·¥ä½œæµå¯è§†åŒ–
- **è§†è§‰åé¦ˆ**ï¼šå®æ—¶èŠ‚ç‚¹çŠ¶æ€æŒ‡ç¤ºå™¨ã€è¿›åº¦æ¡å’Œæ‰§è¡Œé«˜äº®æ˜¾ç¤º
- **è‡ªå®šä¹‰å¸ƒå±€**ï¼šçµæ´»çš„èŠ‚ç‚¹å®šä½ï¼Œæä¾›è‡ªåŠ¨å¸ƒå±€å»ºè®®
- **å¯¼å‡ºåŠŸèƒ½**ï¼šå°†å·¥ä½œæµå¯¼å‡ºä¸ºå›¾åƒæˆ–å¯æ‰“å°çš„å›¾è¡¨

### ğŸ”Œ **å…¨é¢çš„èŠ‚ç‚¹åº“**
- **æ§åˆ¶æµèŠ‚ç‚¹**ï¼šå¼€å§‹ã€ç»“æŸã€æ¡ä»¶ï¼ˆå¤šè¾“å‡ºåˆ†æ”¯ï¼‰ã€å¾ªç¯ï¼ˆfor/while è¿­ä»£ï¼‰
- **æ•°æ®å¤„ç†èŠ‚ç‚¹**ï¼šå˜é‡èµ‹å€¼ã€æ•°æ®è½¬æ¢ã€è¿‡æ»¤å’Œæ’åºæ“ä½œ
- **æ–‡ä»¶æ“ä½œèŠ‚ç‚¹**ï¼šæ–‡ä»¶è¾“å…¥/è¾“å‡ºã€æ–‡ä»¶å¤¹æ‰«æã€æ–‡ä»¶å¤åˆ¶å’Œæ‰¹é‡å¤„ç†
- **æ–‡æœ¬å¤„ç†èŠ‚ç‚¹**ï¼šå­—ç¬¦ä¸²æ“ä½œã€æ­£åˆ™è¡¨è¾¾å¼ã€æ–‡æœ¬æ ¼å¼åŒ–å’Œç¼–ç è½¬æ¢
- **é€»è¾‘èŠ‚ç‚¹**ï¼šæ•°å­¦è¿ç®—ã€å¸ƒå°”é€»è¾‘ã€æ¯”è¾ƒæ“ä½œå’Œæ¡ä»¶è¯­å¥
- **é›†æˆèŠ‚ç‚¹**ï¼šAPI è°ƒç”¨ã€æ•°æ®åº“è¿æ¥ã€é‚®ä»¶å‘é€å’Œ Webhook è§¦å‘å™¨

### ğŸ“ **å®æ—¶æ‰§è¡Œå¼•æ“**
- **å®æ—¶çŠ¶æ€æ›´æ–°**ï¼šå®æ—¶èŠ‚ç‚¹æ‰§è¡ŒçŠ¶æ€ï¼Œå½©è‰²ç¼–ç æŒ‡ç¤ºå™¨ï¼ˆå¤„ç†ä¸­ã€æˆåŠŸã€é”™è¯¯ï¼‰
- **è¿›åº¦è·Ÿè¸ª**ï¼šé•¿æ—¶é—´è¿è¡Œæ“ä½œçš„è¯¦ç»†è¿›åº¦æ¡å’Œæ—¶é—´ä¼°ç®—
- **è¾“å‡ºç›‘æ§**ï¼šå®æ—¶è¾“å‡ºæµï¼Œæ”¯æŒä¸åŒæ•°æ®ç±»å‹çš„è¯­æ³•é«˜äº®
- **é”™è¯¯æŠ¥å‘Š**ï¼šå…¨é¢çš„é”™è¯¯æ¶ˆæ¯ï¼ŒåŒ…å«å †æ ˆè·Ÿè¸ªå’Œè§£å†³æ–¹æ¡ˆå»ºè®®
- **æ€§èƒ½æŒ‡æ ‡**ï¼šæ‰§è¡Œæ—¶é—´è·Ÿè¸ªã€å†…å­˜ä½¿ç”¨ç›‘æ§å’Œååé‡ç»Ÿè®¡
- **æ‰§è¡Œå†å²**ï¼šå®Œæ•´çš„å·¥ä½œæµè¿è¡Œæ—¥å¿—ï¼Œæ”¯æŒå†å²è®°å½•æœç´¢

### ğŸ”„ **é«˜çº§æ§åˆ¶æµ**
- **æ¡ä»¶åˆ†æ”¯**ï¼šåŸºäºåŠ¨æ€æ¡ä»¶çš„å¤šè¾“å‡ºè·¯å¾„ï¼Œæ”¯æŒè‡ªå®šä¹‰è¡¨è¾¾å¼
- **å¾ªç¯æ§åˆ¶**ï¼šæ”¯æŒåµŒå¥—å¾ªç¯ã€break/continue è¯­å¥å’Œè¿­ä»£å˜é‡
- **å¹¶è¡Œæ‰§è¡Œ**ï¼šå¹¶å‘èŠ‚ç‚¹æ‰§è¡Œï¼Œæ”¯æŒåŒæ­¥ç‚¹å’Œç«æ€æ¡ä»¶å¤„ç†
- **é”™è¯¯å¤„ç†**ï¼štry-catch å—ã€é‡è¯•æœºåˆ¶å’Œä¼˜é›…çš„é”™è¯¯æ¢å¤
- **æµç¨‹æ§åˆ¶**ï¼šè·³è½¬åˆ°ç‰¹å®šèŠ‚ç‚¹ã€è·³è¿‡æ“ä½œå’ŒåŠ¨æ€å·¥ä½œæµè·¯ç”±
- **çŠ¶æ€ç®¡ç†**ï¼šè·¨å·¥ä½œæµæ‰§è¡Œçš„æŒä¹…çŠ¶æ€ï¼Œæ”¯æŒå˜é‡ä½œç”¨åŸŸ

### ğŸ’¾ **å·¥ä½œæµç®¡ç†**
- **é¡¹ç›®ç»„ç»‡**ï¼šå±‚æ¬¡åŒ–é¡¹ç›®ç»“æ„ï¼Œæ”¯æŒæ–‡ä»¶å¤¹ã€æ ‡ç­¾å’Œæœç´¢åŠŸèƒ½
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šå†…ç½®ç‰ˆæœ¬ç³»ç»Ÿï¼Œæ”¯æŒå·®å¼‚å¯è§†åŒ–å’Œå›æ»šåŠŸèƒ½
- **å¯¼å…¥/å¯¼å‡º**ï¼šåŸºäº JSON çš„å·¥ä½œæµæ ¼å¼ï¼Œæ”¯æŒå‘åå…¼å®¹å’Œè¿ç§»å·¥å…·
- **æ¨¡æ¿ç³»ç»Ÿ**ï¼šé¢„æ„å»ºçš„å·¥ä½œæµæ¨¡æ¿ï¼Œé€‚ç”¨äºå¸¸è§ç”¨ä¾‹å’Œè¡Œä¸šæ ‡å‡†
- **å…±äº«ä¸åä½œ**ï¼šå¯¼å‡ºå·¥ä½œæµä»¥ä¸å›¢é˜Ÿæˆå‘˜å’Œç¤¾åŒºå…±äº«
- **å¤‡ä»½ä¸æ¢å¤**ï¼šè‡ªåŠ¨å¤‡ä»½ï¼Œæ”¯æŒäº‘åŒæ­¥å’Œç¾éš¾æ¢å¤é€‰é¡¹

### ğŸ–¥ï¸ **è·¨å¹³å°æ¡Œé¢åº”ç”¨**
- **åŸç”Ÿæ€§èƒ½**ï¼šåŸºäº Electron çš„æ¡Œé¢åº”ç”¨ï¼Œå…·å¤‡åŸç”Ÿæ“ä½œç³»ç»Ÿé›†æˆ
- **å¤šæ˜¾ç¤ºå™¨æ”¯æŒ**ï¼šåœ¨å¤šä¸ªå±å¹•é—´æ‹–æ‹½å·¥ä½œæµï¼Œç‹¬ç«‹ç¼©æ”¾çº§åˆ«
- **é”®ç›˜å¿«æ·é”®**ï¼šä¸ºé«˜çº§ç”¨æˆ·å’Œæ— éšœç¢è®¿é—®æä¾›å…¨é¢çš„çƒ­é”®ç³»ç»Ÿ
- **ç³»ç»Ÿé›†æˆ**ï¼šæ–‡ä»¶å…³è”ã€ç³»ç»Ÿæ‰˜ç›˜æ“ä½œå’Œæ“ä½œç³»ç»Ÿé€šçŸ¥æ”¯æŒ
- **ç¦»çº¿åŠŸèƒ½**ï¼šæ— éœ€äº’è”ç½‘è¿æ¥å³å¯å®Œæ•´è¿è¡Œï¼Œé€‚åˆæ•æ„Ÿå·¥ä½œæµ
- **æ€§èƒ½ä¼˜åŒ–**ï¼šç¡¬ä»¶åŠ é€Ÿå’Œå¤§å‹å·¥ä½œæµçš„å†…å­˜ç®¡ç†

### ğŸŒ **å®æ—¶é€šä¿¡**
- **WebSocket é›†æˆ**ï¼šå‰åç«¯åŒå‘å®æ—¶é€šä¿¡
- **å®æ—¶åä½œ**ï¼šå¤šç”¨æˆ·å¯åŒæ—¶æŸ¥çœ‹å·¥ä½œæµæ‰§è¡Œè¿‡ç¨‹
- **è¿œç¨‹ç›‘æ§**ï¼šä»å¤šä¸ªè®¾å¤‡å’Œä½ç½®ç›‘æ§å·¥ä½œæµæ‰§è¡Œ
- **äº‹ä»¶å¹¿æ’­**ï¼šå·¥ä½œæµäº‹ä»¶å’Œç³»ç»ŸçŠ¶æ€çš„å®æ—¶é€šçŸ¥
- **å®‰å…¨é€šä¿¡**ï¼šåŠ å¯†çš„ WebSocket è¿æ¥ï¼Œæ”¯æŒèº«ä»½éªŒè¯å’Œæˆæƒ
- **è¿æ¥ç®¡ç†**ï¼šç½‘ç»œé—®é¢˜æ—¶çš„è‡ªåŠ¨é‡è¿å’Œä¼˜é›…é™çº§

### ğŸ” **é›†æˆæµ‹è¯•ä¸éªŒè¯**
- **æµ‹è¯•æ¨¡å¼**ï¼šå¹²è¿è¡Œæ‰§è¡Œï¼Œä¸å¯¹æ–‡ä»¶æˆ–ç³»ç»Ÿè¿›è¡Œå®é™…æ›´æ”¹
- **è¾“å…¥éªŒè¯**ï¼šæ‰§è¡Œå‰éªŒè¯èŠ‚ç‚¹é…ç½®å’Œæ•°æ®ç±»å‹
- **å•å…ƒæµ‹è¯•**ï¼šä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®å’Œé¢„æœŸè¾“å‡ºéªŒè¯çš„å•ä¸ªèŠ‚ç‚¹æµ‹è¯•
- **é›†æˆæµ‹è¯•**ï¼šä½¿ç”¨çœŸå®æ•°æ®å’Œå¤–éƒ¨ä¾èµ–çš„ç«¯åˆ°ç«¯å·¥ä½œæµæµ‹è¯•
- **æ€§èƒ½æµ‹è¯•**ï¼šå¤§æ•°æ®é›†çš„è´Ÿè½½æµ‹è¯•å’Œæ€§èƒ½åŸºå‡†æµ‹è¯•
- **å›å½’æµ‹è¯•**ï¼šé’ˆå¯¹å…ˆå‰ç‰ˆæœ¬è‡ªåŠ¨æµ‹è¯•å·¥ä½œæµæ›´æ”¹

### ğŸš€ **é«˜çº§å·¥ä½œæµåŠŸèƒ½**
- **å‡½æ•°è°ƒç”¨**ï¼šæ¨¡å—åŒ–å­å·¥ä½œæµæ‰§è¡Œï¼Œæ”¯æŒå‚æ•°ä¼ é€’å’Œè¿”å›å€¼å¤„ç†
- **å†…å­˜ç®¡ç†**ï¼šæ™ºèƒ½å†…å­˜ä¼˜åŒ–ï¼Œæ”¯æŒè‡ªåŠ¨æ¸…ç†å’Œå†…å­˜æ³„æ¼æ£€æµ‹
- **æ–­ç‚¹è°ƒè¯•**ï¼šé«˜çº§è°ƒè¯•åŠŸèƒ½ï¼Œæ”¯æŒæ¡ä»¶æ–­ç‚¹ã€å•æ­¥æ‰§è¡Œå’Œå˜é‡æ£€æŸ¥
- **AIæ™ºèƒ½ä½“é›†æˆ**ï¼šåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½å·¥ä½œæµè‡ªåŠ¨åŒ–å’Œè‡ªç„¶è¯­è¨€å¤„ç†

## æŠ€æœ¯äº®ç‚¹

### äº‹ä»¶æ€»çº¿æ¶æ„ (Event Bus Architecture)

åç«¯é‡‡ç”¨äº‹ä»¶æ€»çº¿æ¶æ„è®¾è®¡ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

- ğŸ”„ **æ¾è€¦åˆè®¾è®¡**: é€šè¿‡äº‹ä»¶æ€»çº¿å®ç°èŠ‚ç‚¹é—´çš„è§£è€¦ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç‹¬ç«‹çš„ç»„ä»¶
- ğŸ“¢ **äº‹ä»¶é©±åŠ¨**: é‡‡ç”¨å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œæ”¯æŒèŠ‚ç‚¹é—´çš„å¼‚æ­¥é€šä¿¡
- ğŸ­ **å·¥å‚æ¨¡å¼**: ä½¿ç”¨èŠ‚ç‚¹å·¥å‚ç»Ÿä¸€ç®¡ç†èŠ‚ç‚¹çš„åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸ
- ğŸ”Œ **å¯æ‰©å±•æ€§**: è½»æ¾æ·»åŠ æ–°èŠ‚ç‚¹ç±»å‹ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
- ğŸ¯ **ç²¾ç¡®æ§åˆ¶**: æ”¯æŒæ¡ä»¶èŠ‚ç‚¹å¤šè¾“å‡ºç«¯å£ã€å¾ªç¯èŠ‚ç‚¹æµç¨‹æ§åˆ¶ç­‰å¤æ‚åœºæ™¯
- ğŸ” **çŠ¶æ€è¿½è¸ª**: é€šè¿‡äº‹ä»¶æ€»çº¿å®ç°å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€çš„å®æ—¶ç›‘æ§

```python
# äº‹ä»¶æ€»çº¿ç¤ºä¾‹
class WorkflowEngine:
    def __init__(self):
        self.bus = EventBus()
        self.bus.on("askMessage", self.askMessage)
        self.bus.on("putStack", self.putStack)
        # ... æ›´å¤šäº‹ä»¶ç›‘å¬
```

### æ™ºèƒ½å˜é‡åŒæ­¥ç³»ç»Ÿ (Smart Variable Sync System)

å‰ç«¯å®ç°äº†ä¸€å¥—æ™ºèƒ½çš„å˜é‡åŒæ­¥ç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- ğŸ”„ **å®æ—¶åŒæ­¥**: é€šè¿‡æ’ä»¶æœºåˆ¶å®ç°èŠ‚ç‚¹è¾“å‡ºçš„å®æ—¶å˜é‡åŒæ­¥
- ğŸ” **ç±»å‹å®‰å…¨**: åŸºäº JSON Schema çš„ç±»å‹ç³»ç»Ÿï¼Œç¡®ä¿å˜é‡ç±»å‹çš„æ­£ç¡®æ€§
- ğŸ¯ **æ™ºèƒ½å‘½å**: è‡ªåŠ¨æ ¹æ®èŠ‚ç‚¹æ ‡é¢˜ç”Ÿæˆæ˜“è¯»çš„å˜é‡åç§°
- ğŸ–¼ï¸ **å¯è§†åŒ–å¢å¼º**: ä¸ºå˜é‡æ·»åŠ å›¾æ ‡å’Œå…ƒæ•°æ®ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- ğŸ›¡ï¸ **æ•°æ®éªŒè¯**: å†…ç½®æ•°æ®åˆæ³•æ€§æ£€æŸ¥ï¼Œé˜²æ­¢æ— æ•ˆæ•°æ®ä¼ é€’
- ğŸ“¦ **ç‰¹æ®Šç±»å‹å¤„ç†**: é’ˆå¯¹æ–‡ä»¶è¾“å…¥ç­‰ç‰¹æ®ŠèŠ‚ç‚¹ç±»å‹çš„å®šåˆ¶åŒ–å¤„ç†

```typescript
// å˜é‡åŒæ­¥ç¤ºä¾‹
export const createSyncVariablePlugin = definePluginCreator({
  onInit(ctx) {
    ctx.document.onNodeCreate(({ node }) => {
      // ç›‘å¬èŠ‚ç‚¹åˆ›å»ºå’Œæ›´æ–°äº‹ä»¶
      const variableData = node.getData(FlowNodeVariableData);
      
      // è‡ªåŠ¨åŒæ­¥èŠ‚ç‚¹è¾“å‡ºåˆ°å˜é‡ç³»ç»Ÿ
      variableData.setVar(
        ASTFactory.createVariableDeclaration({
          meta: { title, icon },
          key: nodeId,
          type: typeAST
        })
      );
    });
  }
});
```

è¿™ç§è®¾è®¡ä¸ä»…ç®€åŒ–äº†ç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒï¼Œè¿˜é€šè¿‡ç±»å‹ç³»ç»Ÿå’Œæ•°æ®éªŒè¯ç¡®ä¿äº†å·¥ä½œæµçš„å¯é æ€§ã€‚å˜é‡åŒæ­¥ç³»ç»Ÿä½œä¸ºå‰åç«¯ä¹‹é—´çš„æ¡¥æ¢ï¼Œå¤§å¤§æå‡äº†æ•°æ®æµçš„å¯ç»´æŠ¤æ€§å’Œç¨³å®šæ€§ã€‚

### å®æ—¶æ—¥å¿—åé¦ˆç³»ç»Ÿ (Real-time Logging System)

åŸºäº Socket.IO å®ç°çš„å®æ—¶æ—¥å¿—åé¦ˆç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- ğŸ”„ **å®æ—¶åé¦ˆ**: é€šè¿‡ WebSocket å®ç°å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€çš„å®æ—¶æ¨é€
- ğŸ¨ **åˆ†çº§å±•ç¤º**: æ”¯æŒå¤šç§æ—¥å¿—çº§åˆ«ï¼ˆINFOã€WARNã€ERRORã€SUCCESSã€SYSTEMã€OUTPUTï¼‰
- ğŸ¯ **èŠ‚ç‚¹å®šä½**: æ¯æ¡æ—¥å¿—éƒ½å¯ä»¥è¿½è¸ªåˆ°å…·ä½“çš„èŠ‚ç‚¹
- ğŸ’« **åŠ¨æ€æ›´æ–°**: è‡ªåŠ¨æ»šåŠ¨å’Œå®æ—¶æ›´æ–°çš„æ—¥å¿—ç•Œé¢
- ğŸ­ **æ ·å¼ç¾åŒ–**: æ¯ç§æ—¥å¿—ç±»å‹éƒ½æœ‰ç‹¬ç‰¹çš„è§†è§‰æ ·å¼
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†**: å®Œæ•´çš„é”™è¯¯æ•è·å’Œå±•ç¤ºæœºåˆ¶

```typescript
// å‰ç«¯æ—¥å¿—å¤„ç†ç¤ºä¾‹
socket.on('info', (data) => addLog({ 
    level: 'INFO', 
    message: data.message, 
    nodeId: data.nodeId 
}));

// åç«¯æ—¥å¿—å‘é€ç¤ºä¾‹
engine.bus.on('workflow', lambda nodeId: 
    socketio.emit('workflow', {
        "nodeId": nodeId
    }, namespace='/workflow')
)
```

è¿™ç§è®¾è®¡è®©ç”¨æˆ·èƒ½å¤Ÿå®æ—¶ç›‘æ§å·¥ä½œæµçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå¿«é€Ÿå®šä½é—®é¢˜ï¼Œæä¾›äº†ä¼˜ç§€çš„è°ƒè¯•ä½“éªŒã€‚ç³»ç»Ÿä¸ä»…èƒ½æ˜¾ç¤ºæ‰§è¡ŒçŠ¶æ€ï¼Œè¿˜èƒ½å±•ç¤ºæ¯ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºç»“æœï¼Œå¤§å¤§æå‡äº†å·¥ä½œæµå¼€å‘å’Œè°ƒè¯•çš„æ•ˆç‡ã€‚

### å‡½æ•°è°ƒç”¨ç³»ç»Ÿ (Function Call System)

åŸºäºæ¨¡å—åŒ–è®¾è®¡çš„é«˜çº§å­å·¥ä½œæµæ‰§è¡Œç³»ç»Ÿï¼š

- ğŸ”„ **æ¨¡å—åŒ–å­å·¥ä½œæµ**:
  - è°ƒç”¨èŠ‚ç‚¹ï¼šä»¥å‡½æ•°æ–¹å¼æ‰§è¡Œå­å·¥ä½œæµï¼Œæ”¯æŒå‚æ•°ä¼ é€’
  - è¿”å›å€¼å¤„ç†å’Œæ•°æ®æµç®¡ç†
  - åŸºäºæ ˆçš„æ‰§è¡Œä¸Šä¸‹æ–‡ç®¡ç†

- ğŸ”— **å·¥ä½œæµç»„åˆ**:
  - å±‚æ¬¡åŒ–å·¥ä½œæµç»“æ„
  - å¯å¤ç”¨çš„å·¥ä½œæµç»„ä»¶
  - è¿è¡Œæ—¶å‚æ•°çš„åŠ¨æ€å·¥ä½œæµè°ƒç”¨

- ğŸ“Š **æ‰§è¡Œç®¡ç†**:
  - å¤šå·¥ä½œæµæ‰§è¡Œå¼•æ“
  - å¹¶å‘å·¥ä½œæµå¤„ç†
  - é«˜çº§è°ƒç”¨æ ˆç®¡ç†å’Œè°ƒè¯•

### å†…å­˜ç®¡ç†ç³»ç»Ÿ (Memory Management System)

é¢å‘å¤§è§„æ¨¡å·¥ä½œæµçš„æ™ºèƒ½å†…å­˜ä¼˜åŒ–ï¼š

- ğŸ§  **è‡ªåŠ¨å†…å­˜æ¸…ç†**:
  - å­å·¥ä½œæµå†…å­˜éš”ç¦»å’Œæ¸…ç†
  - èŠ‚ç‚¹å®ä¾‹ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - å·²å®Œæˆå·¥ä½œæµçš„åƒåœ¾å›æ”¶

- ğŸ“ˆ **å†…å­˜ç›‘æ§**:
  - å®æ—¶å†…å­˜ä½¿ç”¨è·Ÿè¸ª
  - æ¯ä¸ªå·¥ä½œæµçš„å†…å­˜æ¶ˆè€—åˆ†æ
  - å†…å­˜æ³„æ¼æ£€æµ‹å’Œé¢„é˜²

- âš¡ **æ€§èƒ½ä¼˜åŒ–**:
  - å»¶è¿ŸèŠ‚ç‚¹å®ä¾‹åŒ–
  - å†…å­˜é«˜æ•ˆæ•°æ®ç»“æ„
  - è‡ªåŠ¨èµ„æºé‡Šæ”¾

### é«˜çº§è°ƒè¯•ç³»ç»Ÿ (Advanced Debugging System)

é¢å‘å¤æ‚å·¥ä½œæµçš„ä¸“ä¸šè°ƒè¯•èƒ½åŠ›ï¼š

- ğŸ” **æ–­ç‚¹ç³»ç»Ÿ**:
  - è‡ªå®šä¹‰è¡¨è¾¾å¼çš„æ¡ä»¶æ–­ç‚¹
  - èŠ‚ç‚¹ç‰¹å®šçš„æ–­ç‚¹ç®¡ç†
  - é€æ­¥æ‰§è¡Œæ§åˆ¶

- ğŸ¯ **è°ƒè¯•æ§åˆ¶**:
  - æš‚åœ/æ¢å¤æ‰§è¡Œ
  - å•æ­¥æ‰§è¡ŒåŠŸèƒ½
  - å®æ—¶å˜é‡æ£€æŸ¥

- ğŸ“Š **æ‰§è¡Œåˆ†æ**:
  - èŠ‚ç‚¹æ‰§è¡Œæ—¶é—´åˆ†æ
  - æ•°æ®æµå¯è§†åŒ–
  - é”™è¯¯è·Ÿè¸ªå’Œå †æ ˆåˆ†æ

### AI å¢å¼ºå·¥ä½œæµç³»ç»Ÿ (AI-Enhanced Workflow System)

é›†æˆäº†å…ˆè¿›çš„ AI èƒ½åŠ›ï¼Œä¸ºå·¥ä½œæµæä¾›æ™ºèƒ½åŒ–æ”¯æŒï¼š

- ğŸ¤– **åŒæ¨¡å¼ AI åŠ©æ‰‹**:
  - Agent è‡ªåŠ¨æ“ä½œæ¨¡å¼ï¼šAI è‡ªåŠ¨æ‰§è¡Œå·¥ä½œæµä»»åŠ¡
  - Ask äº¤äº’å¼å¯¹è¯æ¨¡å¼ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€ä¸ AI åŠ©æ‰‹äº¤äº’

- ğŸ§  **æ™ºèƒ½èŠ‚ç‚¹ç±»å‹**:
  - LLM èŠ‚ç‚¹ï¼šé›†æˆ OpenAI API çš„å¤§è¯­è¨€æ¨¡å‹èƒ½åŠ›
  - æ–‡æ¡£åˆ†æèŠ‚ç‚¹ï¼šè‡ªåŠ¨åŒ–æ–‡æ¡£ç†è§£ä¸å¤„ç†
  - æ–‡æœ¬å¤„ç†èŠ‚ç‚¹ï¼šåŸºäº AI çš„é«˜çº§æ–‡æœ¬å¤„ç†èƒ½åŠ›

- ğŸ“Š **æ–‡æ¡£æ™ºèƒ½å¤„ç†**:
  - è‡ªåŠ¨æ–‡æ¡£åˆ†æä¸ç»“æ„åŒ–
  - ä» PDFã€Word æ–‡æ¡£ç­‰æ™ºèƒ½ä¿¡æ¯æå–
  - æ–‡æœ¬æ‘˜è¦ä¸é‡ç‚¹æå–

- ğŸ”„ **æ™ºèƒ½å·¥ä½œæµä¼˜åŒ–**:
  - è‡ªåŠ¨æµç¨‹ä¼˜åŒ–å»ºè®®
  - æ™ºèƒ½é”™è¯¯è¯Šæ–­å’Œæ¢å¤
  - æ€§èƒ½ç“¶é¢ˆæ£€æµ‹å’ŒæŠ¥å‘Š

### æ™ºèƒ½èŠ‚ç‚¹æ¨èç³»ç»Ÿ (Node Recommendation System) ğŸš§

> ğŸ”¥ åˆ›æ–°ç‰¹æ€§è§„åˆ’

åŸºäºç”¨æˆ·è¡Œä¸ºå’Œå·¥ä½œæµæ¨¡å¼çš„æ™ºèƒ½æ¨èç³»ç»Ÿï¼š

- ğŸ¯ **ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ¨è**:
  - åŸºäºå½“å‰èŠ‚ç‚¹ç±»å‹æ¨èä¸‹ä¸€ä¸ªæœ€å¯èƒ½éœ€è¦çš„èŠ‚ç‚¹
  - æ™ºèƒ½è¯†åˆ«å¸¸ç”¨èŠ‚ç‚¹ç»„åˆæ¨¡å¼
  - è‡ªåŠ¨è¡¥å…¨èŠ‚ç‚¹é…ç½®å»ºè®®

- ğŸ“Š **ä½¿ç”¨æ¨¡å¼åˆ†æ**:
  - æ”¶é›†åŒ¿åçš„å·¥ä½œæµä½¿ç”¨æ•°æ®
  - åˆ†ææœ€ä½³å®è·µå’Œå¸¸ç”¨æ¨¡å¼
  - ä¸ºç”¨æˆ·æä¾›ä¼˜åŒ–å»ºè®®

### ååŒç¼–è¾‘ç³»ç»Ÿ (Collaborative Editing) ğŸš§

æ”¯æŒå¤šäººå®æ—¶åä½œç¼–è¾‘å·¥ä½œæµï¼š

- ğŸ‘¥ **å®æ—¶åä½œ**:
  - å¤šç”¨æˆ·åŒæ—¶ç¼–è¾‘æ”¯æŒ
  - å®æ—¶å˜æ›´åŒæ­¥
  - ç¼–è¾‘å†²çªè§£å†³

- ğŸ“ **ç‰ˆæœ¬æ§åˆ¶**:
  - å·¥ä½œæµç‰ˆæœ¬å†å²è®°å½•
  - å˜æ›´å¯¹æ¯”å’Œå›æ»š
  - åˆ†æ”¯ç®¡ç†ä¸åˆå¹¶

### å·¥ä½œæµæ¨¡æ¿å¸‚åœº (Workflow Template Marketplace) ğŸš§

ç¤¾åŒºé©±åŠ¨çš„å·¥ä½œæµæ¨¡æ¿ç”Ÿæ€ç³»ç»Ÿï¼š

- ğŸª **æ¨¡æ¿å¸‚åœº**:
  - é¢„ç½®è¡Œä¸šæ ‡å‡†å·¥ä½œæµæ¨¡æ¿
  - ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿åˆ†äº«
  - æ¨¡æ¿è¯„åˆ†å’Œè¯„è®ºç³»ç»Ÿ

- ğŸ”„ **ä¸€é”®å¤ç”¨**:
  - æ¨¡æ¿å¿«é€Ÿå¯¼å…¥
  - å‚æ•°è‡ªåŠ¨é€‚é…
  - æ¨¡æ¿ç»„åˆä¸å®šåˆ¶



### è‡ªé€‚åº”å¸ƒå±€ç³»ç»Ÿ (Adaptive Layout System) ğŸš§

æ™ºèƒ½çš„ç•Œé¢å¸ƒå±€ä¼˜åŒ–ï¼š

- ğŸ“± **å“åº”å¼è®¾è®¡**:
  - è‡ªé€‚åº”å±å¹•å¤§å°
  - æ™ºèƒ½èŠ‚ç‚¹æ’åˆ—
  - è‡ªåŠ¨é¿å…èŠ‚ç‚¹é‡å 

- ğŸ¨ **æ™ºèƒ½ç¾åŒ–**:
  - è‡ªåŠ¨å¯¹é½å’Œåˆ†å¸ƒ
  - æ™ºèƒ½è¿çº¿è·¯å¾„è§„åˆ’
  - èŠ‚ç‚¹ç»„è‡ªåŠ¨å¸ƒå±€

è¿™äº›æŠ€æœ¯ç‰¹æ€§æ„æˆäº† Thryve çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œä¸ºç”¨æˆ·æä¾›äº†ä¸“ä¸šçº§çš„å·¥ä½œæµå¼€å‘ä½“éªŒã€‚é€šè¿‡æ¨¡å—åŒ–è®¾è®¡ã€æ™ºèƒ½è°ƒè¯•ã€å†…å­˜ä¼˜åŒ–å’Œ AI é›†æˆï¼ŒThryve ä¸ä»…ç®€åŒ–äº†å¤æ‚å·¥ä½œæµçš„å¼€å‘ï¼Œæ›´æå‡äº†æ‰§è¡Œæ•ˆç‡å’Œå¯ç»´æŠ¤æ€§ã€‚

## æŠ€æœ¯æ¶æ„

### å‰ç«¯ (Fronted1)

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **æ¡Œé¢æ”¯æŒ**: Electron
- **ä¸»è¦ä¾èµ–**:
  - @flowgram.ai ç³»åˆ—ç»„ä»¶ï¼ˆå¸ƒå±€ç¼–è¾‘å™¨ã€æ’ä»¶ç­‰ï¼‰
  - Socket.IO å®¢æˆ·ç«¯
  - React ç›¸å…³ç”Ÿæ€

### åç«¯ (Backend)

- **æ¡†æ¶**: Python
- **ä¸»è¦æ¨¡å—**:
  - å·¥ä½œæµæ‰§è¡Œå¼•æ“ (Engine.py) æ”¯æŒè°ƒè¯•åŠŸèƒ½
  - å¤šå·¥ä½œæµç®¡ç†å™¨ (WorkflowManager.py) æ”¯æŒå‡½æ•°è°ƒç”¨ç³»ç»Ÿ
  - äº‹ä»¶æ€»çº¿ç³»ç»Ÿ (EventBus.py) å®ç°æ¾è€¦åˆæ¶æ„
  - èŠ‚ç‚¹å·¥å‚æ¨¡å¼å®ç° (Factory.py)
  - WebSocket æœåŠ¡å™¨æ”¯æŒå®æ—¶é€šä¿¡
  - å†…å­˜ç®¡ç†ç³»ç»Ÿæ”¯æŒè‡ªåŠ¨æ¸…ç†
  - é«˜çº§è°ƒè¯•å¼•æ“æ”¯æŒæ–­ç‚¹åŠŸèƒ½

## é¡¹ç›®ç»“æ„

```
Thryve2/
â”œâ”€â”€ Backend/                # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app.py             # ä¸»åº”ç”¨æœåŠ¡å™¨
â”‚   â””â”€â”€ workflows/         # å·¥ä½œæµç›¸å…³æ¨¡å—
â”‚       â”œâ”€â”€ Engine.py      # å·¥ä½œæµæ‰§è¡Œå¼•æ“ï¼ˆæ”¯æŒè°ƒè¯•ï¼‰
â”‚       â”œâ”€â”€ WorkflowManager.py # å¤šå·¥ä½œæµç®¡ç†å™¨
â”‚       â”œâ”€â”€ Factory.py     # èŠ‚ç‚¹å·¥å‚
â”‚       â”œâ”€â”€ events/        # äº‹ä»¶å¤„ç†
â”‚       â”‚   â””â”€â”€ EventBus.py # äº‹ä»¶æ€»çº¿å®ç°
â”‚       â””â”€â”€ nodes/         # èŠ‚ç‚¹ç±»å‹å®šä¹‰
â”‚           â”œâ”€â”€ CallNode.py     # å‡½æ•°è°ƒç”¨èŠ‚ç‚¹
â”‚           â”œâ”€â”€ LLM.py          # AI LLM é›†æˆ
â”‚           â”œâ”€â”€ TextProcessor.py # æ–‡æœ¬å¤„ç†
â”‚           â”œâ”€â”€ PdfProcessor.py # PDF å¤„ç†
â”‚           â””â”€â”€ [+20 ä¸ªå…¶ä»–èŠ‚ç‚¹]
â”‚
â”œâ”€â”€ Fronted1/              # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/              # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/   # UIç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ BreakpointToggle/ # è°ƒè¯•æ§åˆ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar-left/    # AI åŠ©æ‰‹é¢æ¿
â”‚   â”‚   â”‚   â””â”€â”€ testrun/         # æµ‹è¯•æ‰§è¡Œ
â”‚   â”‚   â”œâ”€â”€ context/      # React Context
â”‚   â”‚   â”‚   â”œâ”€â”€ BreakpointProvider.tsx # è°ƒè¯•ä¸Šä¸‹æ–‡
â”‚   â”‚   â”‚   â””â”€â”€ ChatProvider.tsx      # AI èŠå¤©ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ nodes/        # èŠ‚ç‚¹å®ç°
â”‚   â”‚   â”œâ”€â”€ plugins/      # æ’ä»¶ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ runtime-plugin/    # è¿è¡Œæ—¶é›†æˆ
â”‚   â”‚   â”‚   â””â”€â”€ sync-variable-plugin/ # å˜é‡åŒæ­¥
â”‚   â”‚   â””â”€â”€ services/     # æœåŠ¡å±‚
â”‚   â””â”€â”€ electron/         # Electron ç›¸å…³
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 14
- Python >= 3.8
- npm æˆ– yarn

### å®‰è£…æ­¥éª¤

1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/bjhh2005/Thryve2.git
cd Thryve2
```

2. å®‰è£…å‰ç«¯ä¾èµ–
```bash
cd Fronted1
npm install
```

3. å®‰è£…åç«¯ä¾èµ–
```bash
cd ../Backend
pip install -r requirements.txt
```

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

1. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd Backend
python app.py
```

2. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
```bash
cd Fronted1
npm run dev          # ç½‘é¡µç‰ˆ
# æˆ–
npm run electron:dev # æ¡Œé¢åº”ç”¨ç‰ˆ
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
cd Fronted1
npm run electron:build
```

ç”Ÿæˆçš„å®‰è£…åŒ…å°†ä½äº `Fronted1/release` ç›®å½•ã€‚

## æ ¸å¿ƒåŠŸèƒ½ç¤ºä¾‹

### ä½¿ç”¨å‡½æ•°è°ƒç”¨

é€šè¿‡è°ƒç”¨èŠ‚ç‚¹åˆ›å»ºæ¨¡å—åŒ–å·¥ä½œæµï¼Œæ‰§è¡Œå­å·¥ä½œæµï¼š

```javascript
// ä¸»å·¥ä½œæµè°ƒç”¨æ–‡ä»¶å¤„ç†å­å·¥ä½œæµ
{
  "type": "call",
  "subworkflow_id": "file_processor",
  "input_parameters": {
    "file_path": "documents/input.pdf",
    "output_format": "markdown"
  }
}
```

### è®¾ç½®è°ƒè¯•åŠŸèƒ½

å¯ç”¨æ–­ç‚¹å’Œé€æ­¥è°ƒè¯•ï¼š

1. ç‚¹å‡»ä»»æ„èŠ‚ç‚¹çš„æ–­ç‚¹åˆ‡æ¢æŒ‰é’®
2. ä½¿ç”¨è°ƒè¯•é¢æ¿æ§åˆ¶æ‰§è¡Œ
3. å®æ—¶ç›‘æ§å˜é‡å€¼
4. é€ä¸ªèŠ‚ç‚¹å•æ­¥æ‰§è¡Œå·¥ä½œæµ

### AI é›†æˆ

åœ¨å·¥ä½œæµä¸­åˆ©ç”¨ AI èƒ½åŠ›ï¼š

```javascript
// LLM èŠ‚ç‚¹è¿›è¡Œæ–‡æœ¬å¤„ç†
{
  "type": "llm",
  "model": "gpt-3.5-turbo",
  "prompt": "è¯·æ€»ç»“ä»¥ä¸‹æ–‡æ¡£å†…å®¹: {input_text}",
  "max_tokens": 150
}
```

### å†…å­˜ç®¡ç†

ç›‘æ§å’Œä¼˜åŒ–å·¥ä½œæµå†…å­˜ä½¿ç”¨ï¼š

- åœ¨æ§åˆ¶å°é¢æ¿æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ
- å·²å®Œæˆå­å·¥ä½œæµçš„è‡ªåŠ¨æ¸…ç†
- å†…å­˜æ³„æ¼æ£€æµ‹å’Œè­¦å‘Š