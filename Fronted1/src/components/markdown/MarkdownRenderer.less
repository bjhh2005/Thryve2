// src/components/MarkdownRenderer.less

.markdown-renderer-container {
    line-height: 1.7;
    word-break: break-word;

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin-top: 24px;
        margin-bottom: 16px;
        font-weight: 600;
        border-bottom: 1px solid var(--semi-color-border);
        padding-bottom: 8px;
    }

    h1 {
        font-size: 1.8em;
    }

    h2 {
        font-size: 1.5em;
    }

    h3 {
        font-size: 1.25em;
    }

    p {
        margin-top: 0;
        margin-bottom: 1em;
    }

    ul,
    ol {
        padding-left: 2em;
        margin-bottom: 16px;
    }

    blockquote {
        padding: 10px 20px;
        margin: 20px 0;
        border-left: 4px solid var(--semi-color-border);
        background-color: var(--semi-color-fill-0);
        color: var(--semi-color-text-2);

        p:last-child {
            margin-bottom: 0;
        }
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
    }

    th,
    td {
        border: 1px solid var(--semi-color-border);
        padding: 8px 12px;
    }

    th {
        font-weight: 600;
        background-color: var(--semi-color-fill-0);
    }


    // 行内代码样式，适配白色主题
    code:not(pre > code) {
        background-color: #EFF1F3;
        color: #D73A49;
        padding: 3px 6px;
        border-radius: 6px;
        font-family: 'JetBrains Mono', 'Fira Code', Menlo, Monaco, 'Courier New', monospace;
        font-size: 0.9em;
    }

    @code-bg: #F7F8FA;
    @code-border-color: #EAECEF;
    @code-header-bg: #EFF1F3;
    @code-text-color: #2D3748;
    @code-font: 'JetBrains Mono', 'Fira Code', Menlo, Monaco, 'Courier New', monospace;

    // --- 1. 最外层包裹容器 ---
    .code-block-wrapper {
        margin: 1.5em 0;
        border-radius: 8px;
        border: 1px solid @code-border-color;
        overflow-x: auto;
        background-color: #FFFFFF;
        padding: 8px;

        &::-webkit-scrollbar {
            height: 9px;
        }

        &::-webkit-scrollbar-track {
            background: transparent;
        }

        &::-webkit-scrollbar-thumb {
            background-color: #CBD5E1;
            border-radius: 4px;
            border: 2px solid @code-bg;

            &:hover {
                background-color: #A0AEC0;
            }
        }
    }

    // --- 2. 标题栏样式 ---
    .code-block-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 4px 8px;
        border-radius: 4px;
        background-color: @code-header-bg;
        font-size: 12px;
        margin-bottom: 8px;

        .language-name {
            color: #64748B;
            text-transform: lowercase;
        }

        .copy-button {
            display: flex;
            align-items: center;
            gap: 6px;
            background: none;
            border: none;
            color: #64748B;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-family: inherit;

            &:hover {
                background-color: #E2E8F0;
                color: #1E293B;
            }
        }
    }

    // --- 代码区 (SyntaxHighlighter 生成的 div) ---
    div[class*="language-"] {
        margin: 0 !important;
        padding: 0 !important;
        overflow: hidden;
        font-family: @code-font;
        font-size: 14px;
        line-height: 1.6;
        background: @code-bg !important;
        color: @code-text-color;
        font-variant-ligatures: common-ligatures;
        border-radius: 4px;
    }

    // --- 真正的代码载体 <code> ---
    div[class*="language-"]>code {
        display: block;
        padding: 16px;
    }


    // --- 语法高亮 ---
    .token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata {
        color: #6A737D;
    }

    .token.punctuation {
        color: #6A737D;
    }

    .token.property,
    .token.tag,
    .token.boolean,
    .token.number,
    .token.constant,
    .token.symbol,
    .token.deleted {
        color: #005CC5;
    }

    .token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted {
        color: #032F62;
    }

    .token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string {
        color: #D73A49;
    }

    .token.atrule,
    .token.attr-value,
    .token.keyword {
        color: #D73A49;
    }

    .token.function,
    .token.class-name {
        color: #6F42C1;
    }

    .token.regex,
    .token.important,
    .token.variable {
        color: #E36209;
    }
}